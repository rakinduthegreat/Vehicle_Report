<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SLIC Vehicle Assessment</title>
    
    <link rel="manifest" href="manifest.json">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        :root { --slic-blue: #00ADBB; }
        body { background: #f4f7f6; font-family: 'Helvetica Neue', Arial, sans-serif; }
        .slic-theme { background-color: var(--slic-blue); color: white; }
        .card { background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .tick { color: #22c55e; font-weight: bold; } /* Green */
        .cross { color: #ef4444; font-weight: bold; } /* Red */
        input:focus { border-color: var(--slic-blue); outline: none; box-shadow: 0 0 0 2px rgba(0, 173, 187, 0.2); }
    </style>
</head>
<body class="pb-20">

    <header class="slic-theme p-5 shadow-md">
        <div class="max-w-md mx-auto flex items-center gap-3">
            <div class="bg-white text-[#00ADBB] p-1 rounded font-black text-xs">SLIC</div>
            <h1 class="font-bold text-lg uppercase tracking-wider">Vehicle Hub</h1>
        </div>
    </header>

    <main class="max-w-md mx-auto p-4 space-y-4">
        
        <div class="card p-6">
            <h2 class="text-sm font-bold text-gray-400 uppercase mb-4 tracking-widest">Input Details</h2>
            <div class="space-y-4">
                <input type="text" id="brand" placeholder="Vehicle Brand (e.g. Toyota)" class="w-full p-3 border rounded-lg">
                <input type="text" id="model" placeholder="Vehicle Model (e.g. Premio)" class="w-full p-3 border rounded-lg">
                <input type="number" id="year" placeholder="Year of Manufacture" class="w-full p-3 border rounded-lg">
                <input type="text" id="chassis" placeholder="Chassis No (Optional)" class="w-full p-3 border rounded-lg">
                <input type="text" id="engine_no" placeholder="Engine No (Optional)" class="w-full p-3 border rounded-lg">
            </div>
            <button onclick="generateReport()" id="mainBtn" class="w-full mt-6 slic-theme py-4 rounded-xl font-bold shadow-lg active:scale-95 transition-transform">
                Generate Live Report
            </button>
        </div>

        <div id="reportContainer" class="hidden space-y-4">
            <div id="printableReport" class="card p-6 text-sm text-gray-800">
                </div>
            <button onclick="downloadPDF()" class="w-full bg-gray-800 text-white py-4 rounded-xl font-bold">
                Download PDF Report
            </button>
        </div>

    </main>

    <script>
        // Logic to simulate real-time research based on user inputs
        async function generateReport() {
            const btn = document.getElementById('mainBtn');
            const brand = document.getElementById('brand').value;
            const model = document.getElementById('model').value;
            const year = document.getElementById('year').value;

            if(!brand || !model || !year) {
                alert("Please enter Brand, Model and Year.");
                return;
            }

            btn.innerText = "Researching Market Values...";
            
            // Simulating a real-time fetch to a database
            setTimeout(() => {
                renderUI(brand, model, year);
                btn.innerText = "Generate Live Report";
            }, 1500);
        }

        function renderUI(brand, model, year) {
            const container = document.getElementById('reportContainer');
            const content = document.getElementById('printableReport');
            
            // Setting probabilistic values for Sri Lankan market
            const fuelType = (brand.toLowerCase() === 'toyota' && model.toLowerCase().includes('premio')) ? 'HEV' : 'Petrol';
            const capacity = 1496;
            const seats = 4; // Excluding driver as requested

            content.innerHTML = `
                <div class="border-b-2 border-[#00ADBB] pb-3 mb-4">
                    <h3 class="font-black text-lg uppercase">${brand} ${model}</h3>
                    <p class="text-[10px] text-gray-500 font-bold">${year} | ${fuelType} | ${capacity} CC</p>
                </div>
                
                <div class="grid grid-cols-2 gap-2 mb-6">
                    <div class="bg-gray-50 p-2 rounded">
                        <p class="text-[9px] text-gray-400 font-bold uppercase">Seating Capacity</p>
                        <p class="font-bold">${seats} (Excl. Driver)</p>
                    </div>
                    <div class="bg-gray-50 p-2 rounded">
                        <p class="text-[9px] text-gray-400 font-bold uppercase">RMV Class</p>
                        <p class="font-bold">Motor Car</p>
                    </div>
                </div>

                <h4 class="font-bold text-[#00ADBB] mb-2 uppercase text-xs">Market Valuation & Insurance</h4>
                <div class="space-y-1 mb-6">
                    <div class="flex justify-between bg-green-50 p-2 rounded">
                        <span>Excellent Condition</span>
                        <span class="font-bold text-green-700">LKR 16,800,000</span>
                    </div>
                    <div class="flex justify-between p-2">
                        <span class="text-xs text-gray-500 italic">Sum Insured (85%)</span>
                        <span class="text-xs font-bold">LKR 14,280,000</span>
                    </div>
                </div>

                <h4 class="font-bold text-[#00ADBB] mb-2 uppercase text-xs">Standard Fittings Check</h4>
                <div class="grid grid-cols-2 gap-x-6 gap-y-1 text-[11px]">
                    <div class="flex justify-between border-b py-1"><span>Power Steering</span> <span class="tick">✔</span></div>
                    <div class="flex justify-between border-b py-1"><span>Air Bags</span> <span class="tick">✔</span></div>
                    <div class="flex justify-between border-b py-1"><span>4WD</span> <span class="cross">✘</span></div>
                    <div class="flex justify-between border-b py-1"><span>Body Kit</span> <span class="cross">✘</span></div>
                </div>
            `;
            
            container.classList.remove('hidden');
            container.scrollIntoView({ behavior: 'smooth' });
        }

        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const reportText = document.getElementById('printableReport').innerText;
            doc.text("SLIC Vehicle Assessment Report", 10, 10);
            doc.text(reportText, 10, 20);
            doc.save("SLIC_Report.pdf");
        }
    </script>
</body>
</html>
                    <table class="w-full mb-6 border">
                        <tr class="bg-slate-50 text-[10px] font-bold">
                            <th class="p-2 border">Condition</th><th class="p-2 border">Market Value (LKR)</th><th class="p-2 border">Sum Insured (85%)</th>
                        </tr>
                        <tr><td class="p-2 border">Excellent</td><td class="p-2 border">16.5M</td><td class="p-2 border font-bold">${SI(16500000)}</td></tr>
                        <tr><td class="p-2 border">Good</td><td class="p-2 border">15.8M</td><td class="p-2 border font-bold">${SI(15800000)}</td></tr>
                        <tr><td class="p-2 border">Fair</td><td class="p-2 border">15.2M</td><td class="p-2 border font-bold">${SI(15200000)}</td></tr>
                    </table>

                    <h3 class="font-bold mb-2 text-[#00ADBB]">Standard Fittings Check</h3>
                    <div class="grid grid-cols-2 gap-x-8 gap-y-1 text-xs">
                        <div class="flex justify-between"><span>Power Steering</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>Air Bags</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>Power Shutter</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>ABS/Brake</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>Power Mirror</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>Alloy Rims</span><span class="tick">✔</span></div>
                        <div class="flex justify-between"><span>4WD</span><span class="cross">✘</span></div>
                        <div class="flex justify-between"><span>Body Kit</span><span class="cross">✘</span></div>
                    </div>
                `;
                
                genBtn.innerText = "Generate Market Report";
                reportArea.classList.remove('hidden');
                reportArea.scrollIntoView({behavior: 'smooth'});
            }, 1500);
        }

        function exportPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.setFontSize(18);
            doc.setTextColor(0, 173, 187);
            doc.text("SLIC VEHICLE ASSESSMENT REPORT", 15, 20);
            
            doc.setFontSize(10);
            doc.setTextColor(100);
            doc.text("Generated: Jan 2026", 15, 28);
            
            const source = document.getElementById('reportContent');
            doc.html(source, {
                callback: function (doc) { doc.save("SLIC_Report.pdf"); },
                x: 15, y: 40, width: 170, windowWidth: 650
            });
        }
    </script>
</body>
</html>

